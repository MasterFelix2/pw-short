import React, {useRef,useState,useEffect} from "react";
import {INITIAL_VALUE, ReactSVGPanZoom, TOOL_NONE} from 'react-svg-pan-zoom';
import Territory from "../../../General/Territory";
import {GermanTerritories, SovietTerritories, NeutralTerritories, SovietFightingTerritories} from "./MainMap";
import SvgText from "../../../General/SvgText";


export default function Svgzeichnung(props) {
  const Viewer = useRef(null);
  const [tool, setTool] = useState(TOOL_NONE)
  const [value, setValue] = useState(INITIAL_VALUE)

  useEffect(() => {
      Viewer.current.fitToViewer();
  }, []);

   return (
      <div className='svgContainer'>

         <ReactSVGPanZoom
         ref={Viewer}
         tool={tool} onChangeTool={setTool}
         value={value} onChangeValue={setValue}
         preventPanOutside={true}
         background={"rgba(89, 101, 111, 0.5)"}
         width={603.239} 
         height={691.330}
         scaleFactorMax={8}
         scaleFactorMin={2}
         
         >
         <svg
            width={603.239}
            height={691.330}
            viewBox="0 0 319.241 365.829"
            {...props}
         >
         <rect width="319.241" height="365.829" fill="rgba(89, 101, 111, 0.3)"
         //fill="#C8E3FF"
         //#77b7f7
         />
         
         {GermanTerritories.map((item)=>{
            return <Territory 
               key={item.key}
               id={item.id}
               borderT={item.ct}
               fill="rgb(29, 30, 44)"
               d={item.d}
            />
         })}
         {SovietTerritories.map((item)=>{
            return <Territory 
               key={item.key}
               id={item.id}
               borderT={item.ct}
               fill="rgb(147, 31, 29)"
               d={item.d}
            />
         })}
         {NeutralTerritories.map((item)=>{
            return <Territory 
               key={item.key}
               id={item.id}
               borderT={item.ct}
               fill="rgb(235, 215, 182)"
               d={item.d}
            />
         })}
         {SovietFightingTerritories.map((item)=>{
            return <Territory 
               key={item.key}
               id={item.id}
               borderT={item.ct}
               fill="rgb(147, 31, 29)"
               d={item.d}
            />
         })}

         {/* german occupied territories changed in current session */}
         {props.selectedTerritories.map((item)=>{
            return (<>
               {item.type === "tank" ? (<>
               <Territory 
                  key={item.key}
                  id={item.name}
                  borderT={item.borderT}
                  fill="#222c32"
                  d={item.path}
                  type={item.type}
               />
               </>):(<>
               {item.type === "inf" ?
               (<>
                  <Territory 
                     key={item.key}
                     id={item.name}
                     borderT={item.borderT}
                     fill="#36454F"
                     d={item.path}
                     type={item.type}
                  />
               </>)
               :
               (<>
                  <Territory 
                     key={item.key}
                     id={item.name}
                     borderT={item.borderT}
                     fill="rgb(89, 101, 111)"
                     d={item.path}
                     type={item.type}
                  />
               </>)
               }
               </>) }
            </>)
         })}


      <path
         style={{fill: "#3030c9", stroke:"#000000",strokeWidth: 0.13, strokeLinecap: "butt" , strokeLinejoin: "miter", strokeOpacity:1}}
         d="M 86.211234,180.53188 L 88.435388,182.88833 L 90.485909,182.86352 L 91.577315,183.02889 L 91.618656,183.16118 L 91.643461,184.51717 L 93.197888,184.28566 L 93.18962,184.92231 L 94.537341,184.65773 L 95.918135,185.3688 L 96.811104,184.65773 L 98.357263,184.80656 L 98.621846,185.45148 L 99.729789,184.89751 L 103.70681,187.00591 L 105.01319,187.90714 L 104.80648,189.23006 L 105.73252,189.32928 L 105.51755,190.677 L 106.30303,190.80929 L 106.74952,192.87635 L 109.87491,192.76059 L 109.84183,193.34764 L 111.23916,192.66137 L 115.78669,194.29022 L 116.93597,193.61222 L 117.9447,193.50473 L 118.87901,193.56261 L 119.218,193.74451 L 119.42471,195.67928 L 120.79724,196.61359 L 123.42653,196.26632 L 126.81651,197.44868 L 128.45362,197.51483 L 128.48669,197.63885 L 128.00713,198.90389 L 130.00804,199.15193 L 130.1486,199.93742 C 130.1486,199.93742 135.48988,201.05363 135.52295,201.05363 C 135.55603,201.05363 138.73103,199.05272 138.73103,199.05272 L 140.67406,198.01092 L 142.57575,197.11795 L 144.0475,196.8699 L 147.19769,195.81157 L 147.31345,195.92733 L 148.20642,195.03436 L 147.43747,193.37244 L 148.66117,191.21443 L 148.07412,188.94894 L 146.42048,189.16391 L 146.27165,188.60994 L 146.69333,188.17999 L 146.79255,188.65128 L 148.43793,188.42804 L 149.23994,191.39634 L 148.03278,193.43859 L 148.8348,195.12531 L 147.18942,196.77068 L 147.00752,196.39861 L 144.03096,197.40734 L 142.99743,197.55617 L 142.08793,197.90343 L 140.88076,198.47394 L 138.98734,199.45786 L 135.46507,201.72335 L 135.2501,201.53318 L 129.73519,200.35083 L 129.59463,199.59842 L 127.34567,199.28423 L 127.81696,197.98611 L 126.67595,197.96131 L 123.30251,196.80376 L 120.73936,197.15102 L 118.79633,196.01001 L 118.6723,194.05871 C 118.6723,194.05871 118.39118,194.0091 118.34984,194.00083 C 118.3085,193.99256 116.91117,194.191 116.91117,194.191 L 115.8611,194.83592 L 111.34665,193.19881 L 109.22998,194.19927 L 109.37054,193.25669 L 106.3361,193.37244 L 105.88962,191.26404 L 104.94704,191.08214 L 105.15375,189.75923 L 104.22771,189.66001 L 104.41787,188.13039 L 103.54144,187.51027 L 99.647107,185.46802 L 98.382068,186.11294 L 98.026534,185.26131 L 96.926859,185.1869 L 96.009086,185.93104 L 94.454659,185.14555 L 92.726599,185.51762 L 92.718331,184.83136 L 91.114294,185.15382 V 183.43403 L 88.104659,183.35135 L 85.772431,180.86586 Z"
         id="River1"
      />
      <path
         style={{fill: "#3030c9", stroke:"#000000",strokeWidth: 0.13, strokeLinecap: "butt" , strokeLinejoin: "miter", strokeOpacity:1}}
         d="M 155.37055,147.72321 L 155.99066,147.73064 L 156.55733,151.60135 L 152.82009,156.00005 L 152.83662,157.7033 L 151.73695,158.48878 L 150.25694,160.03494 L 150.69515,161.16769 L 150.14945,162.18468 L 148.18988,164.35096 L 147.31345,165.81443 L 149.31436,166.31053 L 149.88487,168.39412 C 149.88487,168.39412 149.88487,168.59256 149.84353,168.59256 C 149.80218,168.59256 148.76866,170.41157 148.76866,170.41157 L 149.74431,170.69269 L 150.54632,174.9591 L 149.94274,174.9839 L 149.28347,171.12536 L 148.0674,170.79795 L 149.15485,168.07348 C 149.15485,168.07348 148.86252,166.72878 148.81575,166.72878 C 148.76898,166.72878 146.51222,166.1909 146.51222,166.1909 L 147.77507,163.95753 L 149.69273,161.87616 L 150.09029,161.1395 L 149.65765,159.98189 L 151.4233,157.99407 L 152.27689,157.38603 L 152.28858,155.60869 L 154.80259,152.83744 L 155.91343,151.50443 Z"
         id="River2"
      />
      <path
         style={{fill: "#3030c9", stroke:"#000000",strokeWidth: 0.13, strokeLinecap: "butt" , strokeLinejoin: "miter", strokeOpacity:1}}
         d="M 159.46361,143.45714 L 161.07178,143.7548 C 161.07178,143.7548 162.13838,142.47322 162.17145,142.47322 C 162.20453,142.47322 163.39515,141.86138 163.39515,141.86138 L 164.89997,141.38182 L 164.8917,140.52192 L 167.28122,140.26561 L 167.79385,138.46313 C 167.79385,138.46313 169.62352,137.97559 169.6469,137.98728 C 169.67029,137.99897 170.62912,138.41408 170.62912,138.41408 L 172.15506,138.01067 L 173.14897,138.18606 L 173.40622,137.54294 L 175.06663,137.48448 L 177.72095,136.74782 L 178.27052,136.85305 L 178.79671,137.4494 L 182.25785,137.14538 L 182.38647,137.82358 L 178.53946,138.08082 L 177.74434,137.33247 C 177.74434,137.33247 176.80889,137.70665 176.75043,137.71834 C 176.69196,137.73003 176.10731,137.88204 176.10731,137.88204 L 175.6162,138.06913 L 173.78039,138.10421 L 173.59331,138.89934 L 172.19014,138.56024 L 170.58819,139.00457 L 169.60598,138.57193 L 168.19112,139.00457 L 167.78186,140.82869 L 165.39648,141.03916 L 165.46664,141.83429 L 164.71829,141.95122 L 164.06348,142.1617 L 162.63693,142.8282 L 162.15751,143.30761 L 161.37408,144.31322 L 159.01681,143.92639 Z"
         id="River3"
      />
      <path
         style={{fill: "#3030c9", stroke:"#000000",strokeWidth: 0.13, strokeLinecap: "butt" , strokeLinejoin: "miter", strokeOpacity:1}}
         d="M 159.75872,282.77343 L 162.86758,281.97968 L 166.38984,282.06237 L 167.0513,280.92135 L 168.48504,280.94871 L 168.35641,279.26493 L 171.51353,276.82108 L 172.42559,276.6106 L 172.37882,275.78039 L 173.04532,275.28927 L 178.11419,275.46432 L 179.37096,274.68711 L 179.99935,273.35591 L 180.08203,272.0082 L 180.4789,270.83411 L 181.50416,269.89153 L 180.94192,267.6095 L 180.03242,266.99765 L 181.81422,265.57964 L 179.00716,263.57461 L 177.70078,263.62422 C 177.70078,263.62422 176.16289,260.64765 176.16289,260.65592 C 176.16289,260.66419 172.64062,259.60586 172.64062,259.60586 L 169.92038,257.81992 L 168.26673,258.53099 L 167.53913,258.40696 L 167.04303,256.84427 L 164.761,257.43958 L 161.71829,256.86907 L 160.34577,258.11757 L 159.68018,257.89003 L 159.07214,253.99625 L 157.71575,254.82646 L 157.04924,253.61038 L 153.4666,256.07532 L 151.722,255.85208 L 150.10143,255.19062 L 149.98568,252.99127 L 148.3651,252.74323 L 146.86028,253.35507 L 143.80104,251.33763 L 142.3293,249.83281 L 141.88281,246.11211 L 140.59297,245.58294 L 140.19609,242.78828 L 141.17174,240.4401 L 139.9891,239.02916 L 138.2936,238.05863 L 137.58033,238.09372 L 137.57506,238.62936 L 138.07943,238.63763 L 139.46849,239.50579 L 140.37799,240.69642 L 139.48502,242.74694 L 139.94805,246.0625 L 141.20482,246.59993 L 141.55208,248.36933 L 141.6761,250.05605 L 143.28841,251.75931 L 146.45514,253.88424 L 146.86855,254.09922 L 148.44778,253.47083 L 149.31595,253.58659 L 149.4069,255.5875 L 151.56491,256.48873 L 153.6485,256.69544 L 156.87311,254.47129 L 157.5015,255.65364 L 158.61771,254.91777 L 159.08073,258.38216 L 160.40364,258.75423 L 160.50286,258.7873 L 161.88366,257.50573 L 164.761,258.07623 L 166.66269,257.55534 L 167.10091,258.97747 L 168.30807,259.15937 L 169.84596,258.50618 L 172.34297,260.15983 L 175.55931,261.11067 L 177.27821,264.23936 L 178.7983,264.28613 L 180.65749,265.58406 L 178.92692,267.01062 L 180.21316,268.02791 L 180.63411,269.7117 L 179.83898,270.48343 L 179.33618,272.06199 L 179.25433,273.20793 L 178.75153,274.23692 L 177.81608,274.76309 C 177.81608,274.76309 172.97516,274.52923 172.81146,274.55262 C 172.64776,274.57601 171.54861,275.51144 171.54861,275.51144 V 276.13118 L 170.80026,276.25979 L 167.51451,279.04276 L 167.68991,280.21206 L 166.56738,280.20036 L 165.91257,281.35797 L 162.96592,281.25274 L 159.67433,282.13555 Z"
         id="River5" 
      />
      <path
         style={{fill: "#3030c9", stroke:"#000000",strokeWidth: 0.13, strokeLinecap: "butt" , strokeLinejoin: "miter", strokeOpacity:1}}
         d="M 215.66849,279.60669 L 217.64459,279.49093 L 218.30605,279.75552 L 219.83567,278.98659 L 224.55317,280.1185 L 224.76365,278.83228 L 226.3539,279.55724 L 230.75048,279.86127 L 232.7383,278.52825 L 232.45767,277.49926 L 231.82624,277.21864 L 231.91979,275.53483 L 236.1059,275.27758 L 235.52125,271.79307 L 238.63159,270.29635 L 238.88884,267.60696 L 240.08153,266.97553 L 242.42014,266.92876 L 244.34949,264.73046 L 244.41965,262.52048 L 244.99261,261.8072 L 247.06228,261.88905 L 247.62354,261.18747 L 247.49492,259.60891 L 248.58237,258.24083 L 249.75168,257.86665 L 249.68152,255.97238 L 248.62915,255.21233 L 248.40698,253.28298 L 248.3602,252.61647 L 246.99212,251.80965 L 245.41356,251.8915 L 244.87568,249.38919 H 244.04547 L 242.77093,248.29005 L 241.73025,248.54729 L 241.34438,248.02111 L 238.12879,248.12634 H 237.62599 L 237.12319,249.16703 L 235.29908,249.08517 L 233.5802,248.60576 L 233.4165,247.09736 L 231.97825,246.11514 L 227.93246,248.29005 L 225.13561,245.51679 L 222.28307,247.51771 L 221.77871,247.02988 H 220.52194 V 245.7235 L 219.22383,244.23522 L 221.59681,242.35006 L 221.00976,239.75384 L 219.0998,238.49707 L 217.76862,236.98398 L 218.14896,234.73502 L 218.13242,234.6358 L 216.95833,233.92474 L 218.48795,229.79062 L 218.18203,229.36067 L 215.79251,228.60827 L 215.57754,227.63261 L 217.75208,225.43327 L 217.01621,222.98587 L 221.05937,219.33958 L 218.66159,217.42962 L 218.38873,214.95742 L 217.81823,215.15586 L 214.61015,214.5192 L 213.30377,211.41862 L 212.33639,211.37728 V 211.93125 H 212.9069 L 214.22982,215.03183 L 217.79342,215.70983 L 217.8761,215.73463 L 218.0332,217.6694 L 220.13333,219.31478 L 216.22246,222.74609 L 217.07409,225.25963 L 214.92435,227.40937 L 215.20547,229.02168 L 217.71074,229.88157 L 216.24726,234.13971 L 217.49577,234.89212 L 217.07409,237.108 L 218.33086,238.4888 L 218.52929,238.78646 L 220.48886,240.15071 L 220.91881,242.13509 L 218.47968,244.10293 L 218.38047,244.21041 L 219.86875,245.98808 L 219.91836,247.61692 L 221.46452,247.54251 L 222.15905,248.27838 L 225.04466,246.28574 L 227.76491,248.99772 L 231.89902,246.84798 L 232.75892,247.50117 L 232.90774,249.06386 L 234.98307,249.68398 L 237.58052,249.71337 L 237.98444,248.76621 L 240.97754,248.62565 L 241.49843,249.27884 L 242.5733,248.89023 L 243.85488,250.16354 L 244.37578,249.98164 L 244.8388,252.62747 L 246.68261,252.40423 L 247.60866,253.04088 L 247.68307,255.67845 L 249.0804,256.76159 L 249.11347,257.39824 L 248.15436,257.61321 L 246.69915,259.45703 C 246.69915,259.45703 246.92239,260.93704 246.92239,260.97011 C 246.92239,261.00319 246.6082,261.26777 246.6082,261.26777 L 244.68997,261.19336 C 244.68997,261.19336 244.51634,261.20989 244.35097,261.36699 C 244.18561,261.52409 243.59856,262.45013 243.59856,262.45013 L 243.57376,264.55026 L 242.13509,266.16255 L 240.00188,266.14601 L 238.05885,267.12994 L 237.88522,269.79231 L 234.66888,271.48729 L 235.20631,274.56307 L 231.29544,274.92687 L 231.03912,277.71328 L 231.71712,278.00265 L 231.73366,278.34166 L 230.43554,279.12713 L 226.17741,278.73854 C 226.17741,278.73854 226.21048,278.52356 225.80534,278.44088 C 225.40019,278.3582 224.17649,278.04401 224.17649,278.04401 L 223.99459,279.24289 L 219.69511,278.36645 C 219.69511,278.36645 219.40573,278.56489 219.17422,278.63104 C 218.94271,278.69718 218.1903,279.1602 218.1903,279.1602 L 217.95879,278.93698 L 215.62715,279.05273 Z"
         id="River4" 
      />
      <path
         style={{fill: "#3030c9", stroke:"#000000",strokeWidth: 0.13, strokeLinecap: "butt" , strokeLinejoin: "miter", strokeOpacity:1}}
         d="M 294.50096,290.13943 L 294.4191,289.21569 L 293.70583,288.54918 L 292.82884,286.47953 L 291.3789,286.53798 L 291.15673,285.76624 L 289.82373,285.13481 L 289.40278,284.70217 L 289.3677,284.03568 L 287.42666,284.07077 L 283.95382,281.87247 L 281.98939,278.75042 L 280.50437,278.17746 L 278.20085,275.89731 L 278.01377,274.99696 L 277.12508,274.80987 L 277.32386,273.64057 L 277.33556,272.51803 L 276.21304,272.4128 L 274.30706,272.50633 L 272.14385,271.90999 L 272.78697,270.12095 L 272.35433,268.03958 L 271.03255,267.46067 L 269.06471,267.64257 L 267.92369,266.36099 L 266.64211,266.93151 L 263.53326,265.33573 L 262.83047,266.63385 L 260.76341,266.18737 L 259.61412,266.21216 L 259.52317,263.98802 L 260.95358,263.3431 L 261.85481,261.32565 L 263.78131,258.80384 L 264.21597,257.15922 L 265.39113,254.95508 L 267.01419,251.22187 L 265.27786,251.12265 L 264.35182,249.65918 L 264.26087,248.55123 L 264.95539,247.79883 L 267.46893,248.05514 L 267.8658,247.27793 L 269.03576,247.45569 L 269.18872,246.49658 L 270.5654,246.00462 L 270.65634,245.96328 L 268.76705,242.50716 L 265.40282,241.44962 L 266.21549,240.29785 L 268.91072,240.88251 L 267.94605,239.35656 L 271.36627,239.28056 L 270.91608,237.4389 L 273.54702,237.50906 L 272.91559,236.9361 L 270.30219,236.9478 L 270.75238,238.81284 L 267.08076,238.959 L 267.87588,240.15169 L 266.01086,239.79505 L 264.70123,241.67178 L 268.46638,242.96387 L 269.98649,245.71758 L 268.76457,246.15022 L 268.66516,246.94535 L 267.58357,246.75826 L 267.20355,247.55923 L 264.79478,247.2786 L 263.76579,248.41867 L 263.90026,249.82183 L 265.02278,251.58748 L 266.27394,251.63426 L 264.89416,254.80892 L 263.72486,256.97213 L 263.27468,258.615 L 261.4798,260.95361 L 260.59697,262.85373 L 258.99503,263.64301 L 259.13534,266.64811 L 260.70221,266.66565 L 263.26883,267.22109 L 263.76579,266.06346 L 266.61305,267.50171 L 267.81159,266.94045 L 268.88733,268.22085 L 270.96286,267.96944 L 271.86906,268.34946 L 272.23156,270.14434 L 271.47734,272.24908 L 274.27197,273.02084 L 275.97332,272.90974 L 276.81523,272.96237 L 276.62229,275.1782 L 277.60451,275.41791 L 277.75066,276.18965 L 280.19451,278.61596 L 281.60353,279.07781 L 283.54456,282.24665 L 287.37988,284.64372 L 288.81228,284.53847 L 288.92336,284.9068 L 289.50801,285.54992 L 290.23299,285.95918 L 290.74163,286.15211 L 290.82933,286.52628 L 291.10413,286.96478 L 291.642,287.01156 L 292.4956,286.97647 L 293.12116,288.54333 L 293.31994,288.98183 L 293.86953,289.43786 L 294.03323,290.50779 Z"
         id="River6" 
      />

      <SvgText
         x="214"
         y="302"
         name="Maikop"
      /><SvgText
         x="162"
         y="152"
         name="Tikhvin"
      /><SvgText
         x="303.57025"
         y="337.17911"
         name="Baku"
      /><SvgText
         x="265.5"
         y="316"
         name="Grozny"
      /><SvgText
         x="88"
         y="153"
         name="Tallinn"
      /><SvgText
         x="118"
         y="170"
         name="Pskov"
      /><SvgText
         x="82"
         y="201"
         name="Kaunas"
      /><SvgText
         x="92"
         y="206"
         name="Wilno"
      /><SvgText
         x="112"
         y="211"
         name="Minsk"
      /><SvgText
         x="77"
         y="229"
         name="Brzesc"
      /><SvgText
         x="83"
         y="252"
         name="Lwow"
      /><SvgText
         x="129.43565"
         y="17.353683"
         name="Murmansk"
      /><SvgText
         x="168.46141"
         y="130.33856"
         name="Petrozavodsk"
      /><SvgText
         x="139.9693"
         y="229.34898"
         name="Gomel"
      /><SvgText
         x="134"
         y="199.74588"
         name="Vitebsk"
      /><SvgText
         x="170"
         y="202.5"
         name="Vyazma"
      /><SvgText
         x="136.5"
         y="249"
         name="Kiev"
      /><SvgText
         x="204"
         y="294"
         name="Krasnodar"
      /><SvgText
         x="208"
         y="267"
         name="Voroshilov"
      /><SvgText
         x="171.52925"
         y="268"
         name="Dnipro"
      /><SvgText
         x="192.3"
         y="192"
         name="Moscow"
      /><SvgText
         x="126"
         y="148.05188"
         name="Leningrad"
      /><SvgText
         x="254"
         y="264"
         name="Stalingrad"
      /><SvgText
         x="147.83174"
         y="204.5"
         name="Smolensk"
      /><SvgText
         x="141.10544"  
         y="287.07324"
         name="Odessa"
      /><SvgText
         x="159.34601"
         y="304.61807"
         name="Sevastopol"
      /><SvgText
         x="182"
         y="251"
         name="Kharkov"
      /><SvgText
         x="183"
         y="236"
         name="Kursk"
      /><SvgText
         x="196.5"
         y="211"
         name="Tula"
      /><SvgText
         x="85"
         y="180"
         name="Riga"
      /><SvgText
         x="209"
         y="235"
         name="Voronezh"
      /><SvgText
         x="194"
         y="281"
         name="Mariupol"
      /><SvgText
         x="214"
         y="276"
         name="Rostov"
      /><SvgText
         x="259"
         y="238.5"
         name="Saratow"
      /><SvgText
         x="278"
         y="287"
         name="Astrakhan"
      />
         </svg>
         </ReactSVGPanZoom>

         

      </div>
   )
}
 
/*

   <image
     preserveAspectRatio="none"
     inkscapesvg-dpi="96"
     width="2.9117179"
     height="3.1530643"
     xlinkHref="../../../../../public/images/icons/OilExtractionIcon.svg"
     id="image113056-7-2"
     x="301.16937"
     y="337.35342"
     style={{strokeWidth:10.8644}} />

*/